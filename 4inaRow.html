<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta name="" content="">
    <title></title>
    <style type="text/css">
      
      .row {
        display: flex;
        flex-direction: row;
      }
      
    </style>
  </head>
  <body>
    <div class="screen">
      <div class="left">
        <div class="board">
          <div class="board-row" id="A"></div>
          <div class="board-row" id="B"></div>
          <div class="board-row" id="C"></div>
          <div class="board-row" id="D"></div>
          <div class="board-row" id="E"></div>
          <div class="board-row" id="F"></div>
        </div>
      </div>
      <div class="right">
        <div class="options">
          
        </div>
        <div class="numbers">
          <div class="board-row" id="SA"></div>
          <div class="board-row" id="SB"></div>
          
        </div>
        <div class="buttons">
          
          <div id="operators"></div>
          <div id="other-buttons">
            <button class="process" id="check" onclick="check()">Check</button>
            <button class="process" id="check" onclick="clearAll()">AC</button>
          </div>
          
        </div>
        <div class="choice">
          <p id="chosenNumber"></p>
        </div>
        <div class="expression">
          <p id="exprText"></p>
          
        </div>
      </div>
    </div>
    
    <script type="text/javascript" charset="utf-8">
      function generateNumbers() {
        let _numbers = [];
        let x = 0;
        while (x < 4) {
          let i = Math.floor(Math.random()*8 + 2);
          if (!_numbers.includes(i)) {
            _numbers.push(i);
            x++;
          }
        }
        while (x < 8) {
          let i = Math.floor(Math.random()*30 + 2);
          if (!_numbers.includes(i)) {
            _numbers.push(i)
            x++;
          }
        }
        return _numbers;
      }
      
      function createSmallGrid(numbers) {
        console.log(numbers)
        smallGridIds = ['SA', 'SB'];
        smallGridIds.map((row, i) => {
          let target = document.getElementById(row);
          let rowIndex = smallGridIds.indexOf(row);
          for (let x = 0; x < 4; x ++) {
            let _id = row + (x + 1)
            let _button = document.createElement('button');
            _button.id = _id;
            _button.innerText = numbers[i*4 + x];
            _button.onclick = () => chooseNumber(_id)
            target.appendChild(_button)
          }
        })
      }
      
      function generateGridNumbers(_numbers) {
        let x = 0;
        let gridNumbers = [];
        let operators = ['+', '-', '*', '/']
        while (x < 36) {
          let m = _numbers[Math.floor(Math.random()*8)];
          let n = numbers[Math.floor(Math.random()*8)];
          let o = numbers[Math.floor(Math.random()*4)];
          let num = eval(m + o + n)
          if (!gridNumbers.includes(num)) {
            if (m !== n && o !== 3) {
              gridNumbers.push(num);
              x++;
            }
            if (m !== n && o === 3 && m%n === 0) {
              gridNumbers.push(num);
              x++;
            }
          }
        }
        return gridNumbers;
      }
      
      function createGrid(_numbers) {
        const rows = ['A', 'B', 'C', 'D', 'E', 'F'];
        rows.map((row, i) => {
          let target = document.getElementById(row)
          let r = rows.indexOf(row)
          for (let x = 0; x < 6; x++){
            let _id = row + (x + 1);
            let _button = document.createElement('button');
            _button.id = _id;
            _button.class = 'grid-button';
            _button.onclick = () => chooseElement(_id);
            _button.innerText = _numbers[6*i + x];
            target.appendChild(_button)
          }
        })
      }
      
      function createOperators(operators) {
        
      }
      
      function chooseElement(_id) {
        console.log(_id)
        let target = document.getElementById(_id);
        document.getElementById('chosenNumber').innerHTML = target.innerHTML;
      }
      
      function chooseNumber(_id) {
        console.log(_id)
      } 
      
      
      //main logic
      let numbers = generateNumbers()
      let gridNumbers = generateGridNumbers(numbers);
      let operators = ['+', '-', '*', '/'];
      createSmallGrid(numbers);
      createGrid(gridNumbers);
      
    </script>
  </body>
</html>